### 実装内容

- アンペアと電力量の入力値から各プランごとの電気料金を出力するシミュレーションを実装致しました。

### 実装や設計の理由(オブジェクト指向、汎用化、品質担保、アプローチ方法の観点から)

- 登場人物ごとにクラス・情報・役割を意識しました(誰が何をする)

  - Simulator クラス → 情報：料金プラン、計算対象データ 役割：料金プランの計算及び計算結果の表示
  - Plan クラス → 役割: プロバイダと料金プラン名の取得
  - Basic_charge クラス → 役割：基本料金計算に使用するデータの取得
  - Usage_charge クラス → 役割：電気量料金計算に使用するデータの取得

- CSV にデータ関連を切り出す

  - 計算メソッド内での数字のベタ書きを避ける
  - データ保持の役割を Simulator クラスから外す
  - CSV データの変更に対応させる為
  - 可読性が良くなる(計算対象データが計算メソッド内にあると処理が増えるにつれ、処理が見づらくなる)

- RSpec 実装(配列数と計算結果を対象にテスト)
  - 20A,30A,40A を対象。
  - 120/121kwh,140/141kwh,300/301kwh,350/351kwh,600/601kwh を対象(段階別料金の境界値を意識)

### 悩んだこと

- 料金体系のプランが追加されてもロジックは追加せずに済むようにする部分
  - 当初、各プランごとにメソッドを設定していたが、メソッドを共通化させた。
- 料金対象データの配置
  - データを各クラスに配置しようとしたが、計算の流れが見えなくなる為 simulator クラスに配置。

### 今後、修正を考えている点、課題

- 段階別料金の上限値の処理。
- インポート処理の共通化。インポート後のデータ型の整形。
- マジックナンバーを避ける(CSV データの変更に対応できるように)
- 入力値のテスト
- Rubocop の導入
- 使用量 0kwh や基本料金半額のプランの対応

### 勉強になった点

- 相対パスについて
- self の使い方(メソッドの中でメソッドを呼び出す)
- テストを書く目的について
  - リファクタリングしても壊れていないことを証明する役割、コードが要件を満たしているか等
  - ここが壊れたら致命的という要件からテストを固める(今回でいうと正しく計算できること)
  - テストを通じて期待する値にならずに、間違いに気づくことができました。
- RSpec の知識
  - to contain_exactly
- 参考書籍 チェリー本、オブジェクト指向設計ガイド
